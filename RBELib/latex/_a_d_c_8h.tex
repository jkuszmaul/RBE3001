\hypertarget{_a_d_c_8h}{\section{include/\-R\-B\-E\-Lib/\-A\-D\-C.h File Reference}
\label{_a_d_c_8h}\index{include/\-R\-B\-E\-Lib/\-A\-D\-C.\-h@{include/\-R\-B\-E\-Lib/\-A\-D\-C.\-h}}
}


The header file and function prototypes for the A\-D\-C.  


{\ttfamily \#include \char`\"{}R\-B\-E\-Lib/util.\-h\char`\"{}}\\*
Include dependency graph for A\-D\-C.\-h\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{_a_d_c_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_a_d_c_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_a_d_c_8h_a9c2a3351c429e7ad5ed4458495f56852}{init\-A\-D\-C} (int channel, int free, int interrupts)
\begin{DoxyCompactList}\small\item\em Initializes the A\-D\-C and make one channel active. You can choose to use either interrupts or polling to read the desired channel. \end{DoxyCompactList}\item 
void \hyperlink{_a_d_c_8h_a3eef680fc13f11498db80fb145cab8f9}{clear\-A\-D\-C} (int channel)
\begin{DoxyCompactList}\small\item\em Disables A\-D\-C functionality and clears any saved values (globals). \end{DoxyCompactList}\item 
unsigned short \hyperlink{_a_d_c_8h_a9f560657fb624f98de3161651f3d4385}{get\-A\-D\-C} (int channel)
\begin{DoxyCompactList}\small\item\em Run a conversion on and get the analog value from one A\-D\-C channel if using polling. \end{DoxyCompactList}\item 
void \hyperlink{_a_d_c_8h_a8174ca24b578eaf4f82f44d6ce44edb0}{change\-A\-D\-C} (int channel)
\begin{DoxyCompactList}\small\item\em Change the channel the A\-D\-C is sampling if using interrupts. \end{DoxyCompactList}\item 
void \hyperlink{_a_d_c_8h_acd2751a0c4ae955ba04fecb437e5e3ee}{set\-A\-D\-C\-Interrupt} (\hyperlink{util_8h_a2ea70e584dc7d96d23100e22c4a51695}{Callback} callback)
\begin{DoxyCompactList}\small\item\em Set the function to be called when an A\-D\-C interrupt is triggered. This function does not itself enable A\-D\-C interrupts. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The header file and function prototypes for the A\-D\-C. For single ended conversion, the A\-D\-C value an be found from the voltage using\-: \[ \frac {V_{in} * 1024}{V_{ref}} \] \begin{DoxyAuthor}{Author}
Kevin Harrington 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
February 11, 2010
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Justin Barrett 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
August 23, 2011
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
Eric Willcox 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
August 19, 2013 
\end{DoxyDate}


Definition in file \hyperlink{_a_d_c_8h_source}{A\-D\-C.\-h}.



\subsection{Function Documentation}
\hypertarget{_a_d_c_8h_a8174ca24b578eaf4f82f44d6ce44edb0}{\index{A\-D\-C.\-h@{A\-D\-C.\-h}!change\-A\-D\-C@{change\-A\-D\-C}}
\index{change\-A\-D\-C@{change\-A\-D\-C}!ADC.h@{A\-D\-C.\-h}}
\subsubsection[{change\-A\-D\-C}]{\setlength{\rightskip}{0pt plus 5cm}void change\-A\-D\-C (
\begin{DoxyParamCaption}
\item[{int}]{channel}
\end{DoxyParamCaption}
)}}\label{_a_d_c_8h_a8174ca24b578eaf4f82f44d6ce44edb0}


Change the channel the A\-D\-C is sampling if using interrupts. 


\begin{DoxyParams}{Parameters}
{\em channel} & The A\-D\-C channel to switch to.\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000003}{Todo}]Create a way to switch A\-D\-C channels if you are using interrupts. \end{DoxyRefDesc}


Definition at line 60 of file A\-D\-C.\-c.



Referenced by get\-A\-D\-C().

\hypertarget{_a_d_c_8h_a3eef680fc13f11498db80fb145cab8f9}{\index{A\-D\-C.\-h@{A\-D\-C.\-h}!clear\-A\-D\-C@{clear\-A\-D\-C}}
\index{clear\-A\-D\-C@{clear\-A\-D\-C}!ADC.h@{A\-D\-C.\-h}}
\subsubsection[{clear\-A\-D\-C}]{\setlength{\rightskip}{0pt plus 5cm}void clear\-A\-D\-C (
\begin{DoxyParamCaption}
\item[{int}]{channel}
\end{DoxyParamCaption}
)}}\label{_a_d_c_8h_a3eef680fc13f11498db80fb145cab8f9}


Disables A\-D\-C functionality and clears any saved values (globals). 


\begin{DoxyParams}{Parameters}
{\em channel} & The A\-D\-C channel to disable. \\
\hline
\end{DoxyParams}


Definition at line 39 of file A\-D\-C.\-c.

\hypertarget{_a_d_c_8h_a9f560657fb624f98de3161651f3d4385}{\index{A\-D\-C.\-h@{A\-D\-C.\-h}!get\-A\-D\-C@{get\-A\-D\-C}}
\index{get\-A\-D\-C@{get\-A\-D\-C}!ADC.h@{A\-D\-C.\-h}}
\subsubsection[{get\-A\-D\-C}]{\setlength{\rightskip}{0pt plus 5cm}unsigned short get\-A\-D\-C (
\begin{DoxyParamCaption}
\item[{int}]{channel}
\end{DoxyParamCaption}
)}}\label{_a_d_c_8h_a9f560657fb624f98de3161651f3d4385}


Run a conversion on and get the analog value from one A\-D\-C channel if using polling. 

This will both chage the A\-D\-C channel in A\-D\-M\-U\-X and turn off any automatic triggers that may have been set on the A\-D\-C. Interrupts are not affected.


\begin{DoxyParams}{Parameters}
{\em channel} & The A\-D\-C channel to run a conversion on. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
adc\-Val The 8-\/10 bit value returned by the A\-D\-C conversion. The precision depends on your settings and how much accuracy you desire.
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000002}{Todo}]Create the corresponding function to obtain the value of the last calculation if you are using polling. \end{DoxyRefDesc}


Definition at line 44 of file A\-D\-C.\-c.



References change\-A\-D\-C().



Here is the call graph for this function\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=238pt]{_a_d_c_8h_a9f560657fb624f98de3161651f3d4385_cgraph}
\end{center}
\end{figure}


\hypertarget{_a_d_c_8h_a9c2a3351c429e7ad5ed4458495f56852}{\index{A\-D\-C.\-h@{A\-D\-C.\-h}!init\-A\-D\-C@{init\-A\-D\-C}}
\index{init\-A\-D\-C@{init\-A\-D\-C}!ADC.h@{A\-D\-C.\-h}}
\subsubsection[{init\-A\-D\-C}]{\setlength{\rightskip}{0pt plus 5cm}void init\-A\-D\-C (
\begin{DoxyParamCaption}
\item[{int}]{channel, }
\item[{int}]{free, }
\item[{int}]{interrupts}
\end{DoxyParamCaption}
)}}\label{_a_d_c_8h_a9c2a3351c429e7ad5ed4458495f56852}


Initializes the A\-D\-C and make one channel active. You can choose to use either interrupts or polling to read the desired channel. 


\begin{DoxyParams}{Parameters}
{\em channel} & The A\-D\-C channel to initialize. \\
\hline
{\em free} & Whether to run in free running mode (0 for not, 1 for yes). \\
\hline
{\em interrupts} & Whether or not to enable interrupts for the A\-D\-C (0=no, 1=yes).\\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000001}{Todo}]Allow user to select different precisions. \end{DoxyRefDesc}


Definition at line 5 of file A\-D\-C.\-c.

\hypertarget{_a_d_c_8h_acd2751a0c4ae955ba04fecb437e5e3ee}{\index{A\-D\-C.\-h@{A\-D\-C.\-h}!set\-A\-D\-C\-Interrupt@{set\-A\-D\-C\-Interrupt}}
\index{set\-A\-D\-C\-Interrupt@{set\-A\-D\-C\-Interrupt}!ADC.h@{A\-D\-C.\-h}}
\subsubsection[{set\-A\-D\-C\-Interrupt}]{\setlength{\rightskip}{0pt plus 5cm}void set\-A\-D\-C\-Interrupt (
\begin{DoxyParamCaption}
\item[{{\bf Callback}}]{callback}
\end{DoxyParamCaption}
)}}\label{_a_d_c_8h_acd2751a0c4ae955ba04fecb437e5e3ee}


Set the function to be called when an A\-D\-C interrupt is triggered. This function does not itself enable A\-D\-C interrupts. 


\begin{DoxyParams}{Parameters}
{\em callback} & The function to call when an A\-D\-C interrupt is triggered. \\
\hline
\end{DoxyParams}


Definition at line 74 of file A\-D\-C.\-c.

